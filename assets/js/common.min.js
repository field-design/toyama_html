!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof exports?module.exports=e:t.echo=e(t)}(this,function(t){"use strict";var e={},o=function(){},n,r,c,a,u,d=function(t){return null===t.offsetParent},l=function(t,e){if(d(t))return!1;var o=t.getBoundingClientRect();return o.right>=e.l&&o.bottom>=e.t&&o.left<=e.r&&o.top<=e.b},i=function(){!a&&r||(clearTimeout(r),r=setTimeout(function(){e.render(),r=null},c))};return e.init=function(r){r=r||{};var d=r.offset||0,l=r.offsetVertical||d,f=r.offsetHorizontal||d,s=function(t,e){return parseInt(t||e,10)};n={t:s(r.offsetTop,l),b:s(r.offsetBottom,l),l:s(r.offsetLeft,f),r:s(r.offsetRight,f)},c=s(r.throttle,250),a=r.debounce!==!1,u=!!r.unload,o=r.callback||o,e.render(),document.addEventListener?(t.addEventListener("scroll",i,!1),t.addEventListener("load",i,!1)):(t.attachEvent("onscroll",i),t.attachEvent("onload",i))},e.render=function(r){for(var c=(r||document).querySelectorAll("[data-echo], [data-echo-background]"),a=c.length,d,i,f={l:0-n.l,t:0-n.t,b:(t.innerHeight||document.documentElement.clientHeight)+n.b,r:(t.innerWidth||document.documentElement.clientWidth)+n.r},s=0;s<a;s++)i=c[s],l(i,f)?(u&&i.setAttribute("data-echo-placeholder",i.src),null!==i.getAttribute("data-echo-background")?i.style.backgroundImage="url("+i.getAttribute("data-echo-background")+")":i.src!==(d=i.getAttribute("data-echo"))&&(i.src=d),u||(i.removeAttribute("data-echo"),i.removeAttribute("data-echo-background")),o(i,"load")):u&&(d=i.getAttribute("data-echo-placeholder"))&&(null!==i.getAttribute("data-echo-background")?i.style.backgroundImage="url("+d+")":i.src=d,i.removeAttribute("data-echo-placeholder"),o(i,"unload"));a||e.detach()},e.detach=function(){document.removeEventListener?t.removeEventListener("scroll",i):t.detachEvent("onscroll",i),clearTimeout(r)},e}),jQuery(document).ready(function($){$("[data-smooth]").smoothScroll()}),$(window).load(function(){$("[data-webfonts]").attr("rel","stylesheet")}),echo.init();